**Рамки.** Модуль «Выдача гранта» интегрирован в информационную систему грантового отбора и обеспечивает автоматизированное взаимодействие инвестора с одобренными заявками: от принятия решения о выплате до фактического перевода средств и уведомления всех участников процесса.

**Уровень.** Это финансовая задача, охватывающая полный цикл выплаты гранта: от авторизации инвестора до подтверждения банковского перевода и фиксации операции в системе.

**Основной исполнитель.** Основной исполнитель — инвестор/держатель фонда, уполномоченный принимать окончательное решение о выплате грантовых средств.

**Заинтересованные лица и их требования**
- **Инвестор.** Ожидает простой интерфейс для утверждения выплат, прозрачности финансовых операций и мгновенного подтверждения успешных транзакций.
- **Соискатель гранта.** Хочет оперативного уведомления о поступлении средств, прозрачного отслеживания статуса выплаты и быстрого решения возможных проблем с переводом.
- **Бухгалтерия.** Заинтересована в автоматической фиксации всех финансовых операций, интеграции с учетными системами и формировании отчетности по выплатам.

**Предусловия**
- Инвестор авторизован и имеет роль «Investor» в системе.
- Заявка имеет статус «Одобрена» и прошла все этапы экспертизы.
- Бухгалтерский модуль готов к обработке финансовых транзакций.

**Результаты (Постусловия)**
- Инвестор успешно утвердил выплату гранта.
- Средства переведены на счет соискателя через бухгалтерский модуль.
- Статус заявки изменен на «Грант выплачен».
- Соискатель получил уведомление о зачислении средств.
- Операция зафиксирована в финансовой отчетности.

**Основной успешный сценарий**
1. **Авторизация инвестора**
   - Инвестор входит в систему и проходит проверку прав доступа как пользователь с ролью «Investor».

2. **Получение списка одобренных заявок**
   - Система отображает заявки со статусом «Одобрена», готовые к выплате.

3. **Выбор заявки для выплаты**
   - Инвестор выбирает заявку и инициирует процесс выплаты гранта.

4. **Подтверждение выплаты**
   - Система отображает детали заявки: сумму гранта, данные соискателя, реквизиты счета.

5. **Инициация банковского перевода**
   - Инвестор подтверждает выплату, система направляет запрос в бухгалтерский модуль.

6. **Обработка платежа**
   - Бухгалтерский модуль выполняет банковский перевод и подтверждает успешность операции.

7. **Фиксация результата**
   - Система обновляет статус заявки и сохраняет детали финансовой операции.

8. **Уведомление участников**
   - Соискатель получает уведомление о зачислении средств, инвестор — о завершении операции.

**Расширения (альтернативные потоки)**
- **Ошибка авторизации**
  – При отсутствии прав система блокирует доступ к финансовым операциям.
- **Недостаток средств на счете фонда**
  – Система уведомляет инвестора и предлагает отложить выплату или выбрать другую заявку.
- **Сбой банковского перевода**
  – Система автоматически повторяет операцию, при повторном сбое уведомляет администратора.
- **Изменение реквизитов соискателя**
  – Система предлагает обновить банковские данные перед повторной попыткой выплаты.

**Специальные требования**
- Все финансовые операции требуют двухфакторной аутентификации.
- Доступ к модулю выплат ограничен по IP-адресам корпоративной сети.
- Все транзакции шифруются по протоколу TLS 1.3+.
- Система должна интегрироваться с банковскими API для онлайн-подтверждений.
- Обязательное ведение аудиторского лога всех финансовых операций.

**Список технологий и типов данных**
- Идентификаторы инвестора (uInt32), заявки (uInt32), суммы выплат (decimal), даты операций (DateTime).
- Интеграция с AccountingService, NotificationService, банковскими API.
- Хранение финансовых данных в зашифрованной базе с ежедневным бэкапом.

**Частота использования**
- Средняя в периоды грантовых циклов; пиковая нагрузка при массовых выплатах по итогам конкурсов.

**Открытые вопросы**
- Требуется ли лимит на разовую выплату для инвестора?
- Должна ли система поддерживать частичные выплаты гранта?
- Нужно ли интеграция с налоговой отчетностью для получателей грантов?

